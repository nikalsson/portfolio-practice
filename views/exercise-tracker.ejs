<% include ./partials/header %>

<body>
    <div class="container">
       <h1>Exercise tracker</h1>
        <form action="/apis-and-microservices/exercise/new/user" method="post">
          <h3>Create a New User</h3>
          <p><code>POST /apis-and-microservices/exercise/new/user</code></p>
          <input id="uname" type="text" name="username" placeholder="username">
          <input type="submit" value="Submit">
        </form>
        <form action="/apis-and-microservices/exercise/new/exercise" method="post">
          <h3>Add exercises</h3>
          <p><code>POST /apis-and-microservices/exercise/new/exercise</code></p>
          <input id="uname" type="text" name="username" placeholder="username*" required>
          <input id="desc" type="text" name="description" placeholder="description*" required>
          <input id="dur" type="number" name="duration" placeholder="duration* (mins.)" required>
          <input id="dat" type="date" name="date" placeholder="date (yyyy-mm-dd)">
          <br/>
          <input type="submit" value="Submit">
        </form>
        <p><strong>GET users's exercise log: </strong><code>log/username&from=yyyy-mm-dd&to=yyyy-mm-dd&limit=20</code></p>
        <p><strong>username = required</strong>, rest is optional</p>
        <p><strong>from, to</strong> = dates (yyyy-mm-dd); <strong>limit</strong> = number</p>
        
        <hr/>

        <h4>User story</h4>

        <ol>
          <li>I can create a user by posting form data username to /api/exercises/new/user and returned will be an object with username and _id.</li>
          <li>I can get an array of all users by getting api/exercise/users with the same info as when creating a user.</li>
          <li>I can add an exercise to any user by posting form data username, description, duration, and optionally date to /api/exercises/new/exercise. If no date supplied it will use current date. Returned will the the user object with also with the exercise fields added.</li>
          <li>I can retrieve a full exercise log of any user by getting /api/exercises/log/ with a parameter of username. Return will be the user object with added array log and count (total exercise count).</li>
          <li>I can retrieve part of the log of any user by also passing along optional parameters of from & to or limit. (Date format yyyy-mm-dd, limit = int)</li>
        </ol>
    </div>

<% include ./partials/footer %>